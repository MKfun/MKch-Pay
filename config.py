from typing import Dict, Any
import json
import os

def load_settings():
    default_settings = {
        'ADMINS': [], 
        'PASSCODE_MIN_PRICE': 1,
        'AUTO_DELIVERY': False
    }
    
    try:
        if os.path.exists('settings.json'):
            with open('settings.json', 'r') as f:
                return json.load(f)
    except Exception as e:
        print(f"Error loading settings: {e}")
    
    return default_settings

SETTINGS = load_settings()

ITEMS: Dict[str, Dict[str, Any]] = {
    'PASSCODE': {
        'name': '–ü–ê–°–°–ö–û–î üîë',
        'description': '–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —É—Å–ª—É–≥–∞ –Ω–∞ MKch, –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ö–∞–ø—á–∏ (CAPTCHA) –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç—Ä–µ–¥–∞/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. 50 ‚≠ê —Å—Ç–æ–∏—Ç + –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–µ –∫–æ–ª-–≤–æ –∑–≤–µ–∑–¥ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏.',
        'secret': 'PASSCODE',
        'min_price': SETTINGS['PASSCODE_MIN_PRICE']
    }
}

MESSAGES = {
    'welcome': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MKch Pay!\n–í—ã–±–µ—Ä–∏ —Ç–æ–≤–∞—Ä –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è Telegram Stars:',
    'welcome_photo_url': 'img/logo.jpg',
    'help': (
        '*MKch Pay*\n\n–ö–æ–º–∞–Ω–¥—ã:\n'
        '/start - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã\n'
        '/help - –°–ø—Ä–∞–≤–∫–∞\n\n'
        '–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:\n'
        '1. /start - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã\n'
        '2. –í—ã–±—Ä–∞—Ç—å —Ç–æ–≤–∞—Ä\n'
        '3. –û–ø–ª–∞—Ç–∏—Ç—å –∑–≤–µ–∑–¥–∞–º–∏'
    ),
    'enter_amount': f"–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –æ–ø–ª–∞—Ç—ã (–Ω–µ –º–µ–Ω–µ–µ {SETTINGS['PASSCODE_MIN_PRICE']} ‚≠ê + –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–µ –∫–æ–ª-–≤–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏):",
    'invalid_amount': f"‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞! –ú–∏–Ω–∏–º—É–º {SETTINGS['PASSCODE_MIN_PRICE']} ‚≠ê.",
    'admin_help': (
        "‚öôÔ∏è *–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å*\n\n"
        "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n"
        "/setprice [—Ü–µ–Ω–∞] - –ò–∑–º–µ–Ω–∏—Ç—å –º–∏–Ω. —Ü–µ–Ω—É PASSCODE (–æ—Ç 1 ‚≠ê)\n"
        "/autodelivery [on|off] - –í–∫–ª/–≤—ã–∫–ª –∞–≤—Ç–æ–≤—ã–¥–∞—á—É\n"
        "/addadmin [id] - –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞\n"
        "/removeadmin [id] - –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∞\n"
        "/listadmins - –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤\n"
        "/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂"
    ),
    'admin_only': "‚ùå –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤",
    'price_updated': "‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ PASSCODE –æ–±–Ω–æ–≤–ª–µ–Ω–∞: {} ‚≠ê",
    'delivery_status': "‚úÖ –ê–≤—Ç–æ–≤—ã–¥–∞—á–∞ {}",
    'admin_added': "‚úÖ –ê–¥–º–∏–Ω –¥–æ–±–∞–≤–ª–µ–Ω: {}",
    'admin_removed': "‚úÖ –ê–¥–º–∏–Ω —É–¥–∞–ª–µ–Ω: {}",
    'admin_list': "üë• –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:\n{}",
    'no_admins': "üë• –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –Ω–µ—Ç",
    'invalid_command': "‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞",
    'no_codes': "‚ö†Ô∏è –ó–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –∫–æ–¥—ã! –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.",
    'stats': "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:\n–í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫: {}\n–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π: {}",
    'min_price_error': "‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 1 ‚≠ê"
}